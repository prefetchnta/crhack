/*****************************************************************************/
/*                                                  ###                      */
/*       #####          ###    ###                  ###  CREATE: 2009-12-15  */
/*     #######          ###    ###      [PORT]      ###  ~~~~~~~~~~~~~~~~~~  */
/*    ########          ###    ###                  ###  MODIFY: XXXX-XX-XX  */
/*    ####  ##          ###    ###                  ###  ~~~~~~~~~~~~~~~~~~  */
/*   ###       ### ###  ###    ###    ####    ####  ###   ##  +-----------+  */
/*  ####       ######## ##########  #######  ###### ###  ###  |  A NEW C  |  */
/*  ###        ######## ########## ########  ###### ### ###   | FRAMEWORK |  */
/*  ###     ## #### ### ########## ###  ### ###     ######    |  FOR ALL  |  */
/*  ####   ### ###  ### ###    ### ###  ### ###     ######    | PLATFORMS |  */
/*  ########## ###      ###    ### ######## ####### #######   |  AND ALL  |  */
/*   #######   ###      ###    ### ########  ###### ###  ###  | COMPILERS |  */
/*    #####    ###      ###    ###  #### ##   ####  ###   ##  +-----------+  */
/*  =======================================================================  */
/*  >>>>>>>>>>>>>>>>>>>>>>>> CrHack 软件浮点头文件 <<<<<<<<<<<<<<<<<<<<<<<<  */
/*  =======================================================================  */
/*****************************************************************************/

#ifndef __CR_FLOAT_H__
#define __CR_FLOAT_H__

/*****************************************************************************/
/*                                  定点数                                   */
/*****************************************************************************/

/* 32位定点数 (16.16) */
typedef int32s  fix32_t;
#define fix32_from_int(i)       (((fix32_t)(i)) << 16)
#define fix32_from_float(x)     ((fix32_t)((x) * 65536.0f))
#define fix32_from_double(d)    ((fix32_t)((d) * 65536.0))
#define fix32_to_int(f)         ((f) >> 16)
#define fix32_to_float(x)       ((float)((x) / 65536.0f))
#define fix32_to_double(f)      ((double)((f) / 65536.0))
#define fix32_const_1           (fix32_from_int(1))
#define fix32_const_half        (fix32_const_1 >> 1)
#define fix32_const_e           ((fix32_t)(1))
#define fix32_const_1_m_e       (fix32_const_1 - fix32_const_e)
#define fix32_frac(f)           ((f) & fix32_const_1_m_e)
#define fix32_floor(f)          ((f) & (~fix32_const_1_m_e))
#define fix32_ceil(f)           (fix32_floor((f) + 0xFFFF))
#define fix32_mul(x, y)         ((fix32_t)((((int64s)(x)) * (y)) >> 16))
#define fix32_div(x, y)         ((fix32_t)((((int64s)(x)) << 16) / (y)))
#define fix32_const_max         ((int64s)0x7FFFFFFF)
#define fix32_const_min         (-((((int64s)1) << 31)))

/*****************************************************************************/
/*                                  浮点数                                   */
/*****************************************************************************/

/************************************/
/* +--------+----------+----------+ */
/* |  形式  |   指数   | 小数部分 | */
/* +--------+----------+----------+ */
/* |   零   |    零    |    零    | */
/* +--------+----------+----------+ */
/* | 非正规 |    零    |   非零   | */
/* +--------+----------+----------+ */
/* |  正规  | 1 ~ 2e-2 |   任意   | */
/* +--------+----------+----------+ */
/* |  无穷  |   2e-1   |    零    | */
/* +--------+----------+----------+ */
/* |  NaN   |   2e-1   |   非零   | */
/* +--------+----------+----------+ */
/* | V = ((-1) ^ S) * (2 ^ E) * M | */
/* +------------------------------+ */
/* |  非正规时                    | */
/* |  ~~~~~~~~                    | */
/* |  S = s; E = 1 - d; M = m     | */
/* +------------------------------+ */
/* |  当正规时                    | */
/* |  ~~~~~~~~                    | */
/* |  S = s; E = e - d; M = m + 1 | */
/* +------------------------------+ */
/************************************/

/*
************************************************
**  IEEE754 - FP16  s(1) e(5)  m(10)  d(15)
**  IEEE754 - FP32  s(1) e(8)  m(23)  d(127)
**  IEEE754 - FP64  s(1) e(11) m(52)  d(1023)
**  IEEE754 - FP80  s(1) e(15) m(64)  d(16383)
**  IEEE754 - FP128 s(1) e(15) m(112) d(16383)
************************************************
*/
CR_API sint_t   fp32_to_sint (fp32_t value);
CR_API fp16_t   fp32_to_fp16 (fp32_t value);
CR_API fp32_t   fp16_to_fp32 (fp16_t value);

/*****************************************************************************/
/*                               32位浮点类型                                */
/*****************************************************************************/

#if defined(_CR_NO_FLT32_)



#endif  /* _CR_NO_FLT32_ */

/*****************************************************************************/
/*                               64位浮点类型                                */
/*****************************************************************************/

#if defined(_CR_NO_FLT64_)



#endif  /* _CR_NO_FLT64_ */

#endif  /* !__CR_FLOAT_H__ */

/*****************************************************************************/
/* _________________________________________________________________________ */
/* uBMAzRBoAKAHaACQD6FoAIAPqbgA/7rIA+5CM9uKw8D4Au7u7mSIJ0t18mYz0mYz9rAQZCgHc */
/* wRIZIgHZovGBXUAZg+v0GbB+gRmgcJ7BAAAisIlAwB1Av7LSHUC/s9IdQL+w0h1Av7HZkZmgf */
/* 4JLgIAdb262gPsqAh0+zP/uQB9ZYsFZYktq+L3sMi/AAK7gAKJAUtLdfq5IANXvT8BiQzfBIv */
/* FLaAAweAEmff53wb+Adjx3kQE2xwy5Io8ithkigcFgACJBN8E3sneNvwB2xyLHDkdfA2JHSyA */
/* adtAAQPdZYgHR0dNdbZfSYP5UHWr/kQEtAHNFg+Eef/DWAKgDw== |~~~~~~~~~~~~~~~~~~~ */
/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >>> END OF FILE <<< */
/*****************************************************************************/
